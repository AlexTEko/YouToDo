<div class="jumbotron">
    <h1>{{project.Name}} <button class="btn btn-info btn-xs" ng-click="editProject()">Edit</button></h1>
    <p>{{project.Description}}</p>
    <div class="row">
        <p>Tasks:</p>
    </div>
    <div class="row">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Task</th>
                    <th class ="hidden-xs">Performer</thclass>
                    <th>Task Status</thclass>
                    <th class="hidden-xs">Task Deadline</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="task in project.Tasks">
                    <td>{{$index + 1}}</td>
                    <td class="text-uppercase">{{task.TaskText}}</td>
                    <td class="hidden-xs">{{task.AssignedTo}}</td>
                    <td>{{task.TaskStatus}}</td>
                    <td class="hidden-xs">{{task.TaskDateDeadline | date:'yyyy-MM-dd HH:mm' }}</td>
                    <td>
                        <button class="btn btn-info btn-xs" ng-click="editTask(task.Id)">Edit</button>
                        <button class="btn btn-danger btn-xs" ng-click="cancelTask(task.Id)">Cancel</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="row">
        <button class="btn btn-success" ng-click="addTask()">Add Task</button></h1>
    </div>
</div>

<modal title="Edit project" visible="showModalEdit">
    <form name="editproject" role="form" novalidate>
        <div class="form-group">
            <label for="projectName">Project Name</label>
            <input type="text" class="form-control" id="projectName" placeholder="Enter new project name" ng-model="formData.Name" required />
        </div>
        <div class="form-group">
            <label for="projectDescription">Description</label>
            <input type="text" class="form-control" id="projectDescription" placeholder="Description" ng-model="formData.Description" required />
        </div>
        <button type="submit" class="btn btn-default" ng-click="editproject.$valid && saveProject()" ng-show="editproject.$valid">Save</button>
    </form>
</modal>

<modal title="Add task" visible="showModalTask">
    <form name="addtask" role="form" novalidate>
        <h1>Project: {{project.Name}}</h1>
        <div class="form-group">
            <label for="Perfomer">Perfomer</label>
            <select class="form-control" id="Perfomer" ng-model="formTask.AssignedTo" required>
                <option ng-repeat="user in users">{{user}}</option>
            </select>
            <label for="Name">Task Name</label>
            <input type="text" class="form-control" id="Name" placeholder="Name" ng-model="formTask.TaskText" required />
            <label for="Priority">Task Priority</label>
            <select class="form-control" id="Priority" ng-model="formTask.TaskPriority">
                <option>high</option>
                <option>middle</option>
                <option>low</option>
            </select>
            <label for="Description">Task Description</label>
            <input type="text" class="form-control" id="Description" placeholder="Description" ng-model="formTask.TaskDescription" />
            <label for="Comment">Comment</label>
            <input type="text" class="form-control" id="Comment" placeholder="Comment" ng-model="formTask.TaskComment" />
            <label for="Deadline">Deadline Time</label><br>
            <input type="datetime" date-time ng-model="formTask.TaskDateDeadline" id="Deadline" required>
            </div>
        <button type="submit" class="btn btn-default" ng-click="addtask.$valid && saveTask()" ng-show="addtask.$valid">Add Task</button>
    </form>
</modal>


<modal title="Edit task" visible="showModalTaskEdit">
    <form name="edittask" role="form" novalidate>
        <h1>Project: {{project.Name}}</h1>
        <div class="form-group">
            <label for="Perfomer">Perfomer</label>
            <select class="form-control" id="Perfomer" ng-model="formTask.AssignedTo" required>
                <option ng-repeat="user in users">{{user}}</option>
            </select>
            <label for="Name">Task Name</label>
            <input type="text" class="form-control" id="Name" placeholder="Name" ng-model="formTask.TaskText" required />
            <label for="Priority">Task Priority</label>
            <select class="form-control" id="Priority" ng-model="formTask.TaskPriority">
                <option>high</option>
                <option>middle</option>
                <option>low</option>
            </select>
            <label for="Description">Task Description</label>
            <input type="text" class="form-control" id="Description" placeholder="Description" ng-model="formTask.TaskDescription" />
            <label for="Comment">Comment</label>
            <input type="text" class="form-control" id="Comment" placeholder="Comment" ng-model="formTask.TaskComment" />
            <label for="Deadline">Deadline Time</label><br>
            <input type="datetime" date-time ng-model="formTask.TaskDateDeadline" id="Deadline" required>
        </div>
        <button type="submit" class="btn btn-default" ng-click="edittask.$valid && saveEditTask()" ng-show="edittask.$valid">Edit Task</button>
    </form>
</modal>